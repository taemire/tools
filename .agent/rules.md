# AI Agent Rules & Guidelines (tools)

이 문서는 tools 프로젝트를 개발하는 AI Agent가 준수해야 할 엄격한 수칙을 담고 있습니다.

현재 개발환경은 윈도우 이고 파워쉘을 사용한다.

## 🧪 개발 전략 (Development Strategy)

### 1. TDD (Test-Driven Development) 도입
- **중요한 기능 수정**이나 **성능 관련 개선 작업** 시에는 반드시 TDD 전략을 사용합니다.
- 기능을 구현하거나 수정하기 전, 해당 동작을 검증할 수 있는 테스트 코드를 먼저 작성하거나 현행화합니다.
- 모든 기능 수정 후에는 `go test ./...`를 통해 전체 회귀 테스트를 수행합니다.

### 2. 성능 개선 지표 보고 (Performance Metrics)
- 성능 개선을 목적으로 하는 노드 수정 시 다음과 같은 절차를 따릅니다:
    1. **기초 지표 측정**: 변경 전(As-Is) 코드의 부하도 및 성능 지표를 측정합니다.
    2. **개선 지표 측정**: 변경 후(To-Be) 코드의 부하도 및 성능 지표를 측정합니다.
    3. **개선율 보고**: 측정된 두 지표를 비교하여 구체적인 개선율(%)과 안정성 여부를 보고서에 포함합니다.

## 🛠️ 코딩 규칙 (Coding Rules)

- **문서 확인**: 수정 전 `docs/` 내의 모든 관련 문서를 읽고 설계를 파악합니다.
- **코드 무결성**: 실제 동작하는 핵심 로직(함수명, 변수 선언 등)을 함부로 변경하거나 삭제하지 않습니다.
- **빌드 절차**: 반드시 `build.bat` 또는 배포 문서를 참조하여 정식 빌드를 수행하며, 단순 `go build`는 지양합니다.
- **수정 도구**: 모든 코드 수정은 IDE 기능을 활용하며, 쉘 명령어를 통한 직접적인 텍스트 치환은 금지합니다.
- **MCP 활용**: 개발 과정에서 반드시 MCP 서버의 도구들을 최대한 활용합니다.
- **언어 준수**: 모든 사고 과정(Thinking)과 대화는 한국어로 진행합니다.
- **옵션 생성**: 옵션 생성 규칙 준수(GNU 스타일)
- **코드 주석**: 코드 주석은 한글로 작성하며, 최대한 상세하게 작성합니다.
- **코드 정리**: 코드 정리 규칙 준수(GNU 스타일)

## 📦 커밋 및 문서화 규칙 (Commit & Documentation)

- **커밋 메시지**: 한글로 작성하며, `<type>: <설명>` 형식을 준수합니다. 최대한 상세하게 작성한다.
- **커밋 단위**: 논리적으로 완결된 기능 단위로 커밋합니다. (잦은 스냅샷성 커밋 지양)
- **필수 갱신 문서**: 커밋 시 다음 문서를 반드시 최신화합니다:
    - `CHANGELOG.md`: 변경 사항 기록
    - `docs/PROJECT_HISTORY.md`: 작업 내역 상세 기록
    - `docs/IMPLEMENTATION_SPEC.md`: 제품 구현 명세서 갱신
### 사용자 메뉴얼 문서의 수준과 기조는 아래와 같다.
- 사용자 메뉴얼의 이미지는 실체 제품의 UI/UX를 그대로 따라 온다. 
- 예로 서비스/앱 배포시 임배딩되는 문서의 삽입되는 이미지는 실제 적용되는 화면 UI 소스에서 mock 제작한다.
  (로그인 화면이면 실제 로그인 화면 렌더링 소스를 MD원본에 적용하여 표현하는 것이다.
- 실제로 그렇게 해야 제품 형상과 문서의 형상을 일치 할 수 있다.
- 제품의 테마와 함께 문서(Docsify)의 테마 변경에도 실제 반응 하도록 구성한다.
- 최종 적으로 제품 형상과 함께 문서도 살아 움직이듯 반응하여 싱크로율을 높인다.

### 4. UI 목업 및 스타일링 규칙 (UI Mockups & Styling)
- **CSS 중앙 관리**: 모든 UI 목업 및 문서 스타일은 `layout_*.html` 템플릿 파일에 하드코딩하지 않고, 반드시 외부 CSS 파일(`assets/css/ui-mockup.css` 등)에서 중앙 관리합니다.
- **템플릿 순수성**: HTML 템플릿은 문서의 구조(Skeleton)만 정의하며, 디자인 요소는 철저히 분리합니다.
- **Docsify 호환성**: `!>`(Important), `?>`(Tip) 등의 Docsify 전용 문법이 올바르게 파싱되고 스타일링되도록 빌드 도구(`md2html`)와 CSS를 유지보수합니다.

